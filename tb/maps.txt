<levelmap> <timestep>100</timestep> <preconverge> 0 </preconverge> 
<name>T O A D     B U R N<br>By Yen Lee Loh &amp; Isaac Hutchison (2025) </name>
<help>
<h3> WELCOME TO TOAD BURN! </h3>
MOVE MARIO USING JOYSTICK OR ESDF KEYS. <br>
ADVANCE THROUGH GAP IN WALL <br>
OR CLICK "NEXT" TO GO TO WORLD 1-1. <br>
<a href="toadburnhelp.html" style="color:cyan;">Click here to learn more about Toad Burn </a>
</help>
WWWWWWWWWWWWWWWWWWW
W.................W
W.###.###.###...#.W
W..#..#.#.#.#.###.W
W..#..#.#.###.#.#.W
W..#..###.#.#.###.W
W.++++++++++++++++W
WN###L###L###L###BW
W.++++++++++++++++W
W.#...#.#.###.###.W
W.###.#.#.#...#.#.W
W.#.#.#.#.#.?.#.#..
W.###.###.#...#.#.W
W...........M.....W
WWWWWWWWWWWWWWWWWWW
</levelmap>

<levelmap> <timestep>100</timestep> <name> 1-1   CLEAR THE WAY </name>
<help><p>
MOVE MARIO USING JOYSTICK OR ESDF KEYS.</p><p>
BUMP THE P SWITCH TO STOP THE LAVA! </p>
</help>
W?WWWWWWW
W...S###W
WM...###.
.....###W
WWWWWWWWW
</levelmap>

<levelmap> <timestep>100</timestep> <name> 1-2   HIT ME UP </name>
<help><p>
HAPPY TOADS SPEW LAVA, CRYING TOADS EMIT WATER.</p>
</help>
W?WWWWWWW
W....###W
.M..####.
WM.N####W
WWWWWWWWW
</levelmap>

<levelmap> <timestep>100</timestep> <name> 1-3   HOT OR NOT? </name>
<help>
<p>GOLDEN RULE OF TOAD LOGIC: </p>
<p>DO UNTO OTHERS AS THEY DO <u>NOT</u> UNTO YOU.</p>
<p class="indepth">
The toad behaves as a 
<a href="https://en.wikipedia.org/wiki/Inverter_(logic_gate)">NOT gate</a>,
also known as an inverter.
If the input of the NOT gate is HIGH, the output is LOW.
If the input is LOW, the output is HIGH.
</p>
</help>
W?WWWWWWWWWW
.MW......W..
..s###N####W
..WWWWWWWW.W
...........W
WWWWWWWWWWWW
</levelmap>

<levelmap> <timestep>100</timestep> <name> 1-4   LIGHT THE FUSE </name>
<help><p>
BOWSER IS BLOCKING THE WAY.
GET RID OF HIM!</p>
</help>
W?WWWWWWWWWWWW
W..########..W
W.s#......#.B.
W.W..######.#W
..W..#......#W
WMW..########W
WWWWWWWWWWWWWW
</levelmap>

<levelmap> <timestep>100</timestep> <name> 1-5   WHICH SWITCH? </name>
<help>
<p>HELP ME, MARIO!</p>
<p class="indepth">
A <a href="https://learn.sparkfun.com/tutorials/button-and-switch-basics/what-is-a-switch">switch</a>
remembers whether it is ON or OFF, and supplies either a positive voltage (HIGH) or zero voltage (LOW) to the circuit.
</p>
</help>
WWWWWWWWWWW
.....####.W
W.s###..#.W
W.W....P#.W
WM?....#..W
W.W....##B.
W.s###...#W
W.W..#####W
WWWWWWWWWWW
</levelmap>

<levelmap> <timestep>100</timestep> <name> 1-5   HOT HEAD, HOT FEET </name>
<help>
<p>A BURNING TOAD IS NOT A HAPPY TOAD!</p>
<p class="indepth">
The toad behaves as a 
<a href="https://en.wikipedia.org/wiki/NOR_gate">NOR gate</a>.
If either input of the NOR gate is HIGH, the output is LOW.
Only if both inputs are LOW will the output be HIGH.
</p>
</help>
W?WWWWWWWWW
W.S###..W..
W.W..n###BW
W.S###....W
WMWWWW.H.HW
W.........W
WWWWWWWWWWW
</levelmap>

<levelmap> <timestep>100</timestep> <name> 1-6   ON AND ON </name>
<help>
<p>MAKE THE LAST TOAD HAPPY!</p>
<p class="indepth">
The three toads in the center function as an 
<a href="https://en.wikipedia.org/wiki/AND_gate">AND gate</a>.
Both inputs of the AND gate must be HIGH in order for the output to be HIGH.
Both switches must be ON in order for Bowser to get burned.
</p>
</help>
WWWWWWWWWWWW
W.s##N#..WWW
W.W...N###B.
W.s##N#WWW.W
..WW?WWW...W
WM.........W
WWWWWWWWWWWW
</levelmap>

<levelmap> <timestep>100</timestep> <name> 1-7   One XOR the Other </name>
<help>
<p class="indepth">
The five toads at the right of this circuit constitute a
<a href="https://en.wikipedia.org/wiki/XOR_gate">XOR gate</a>,
which is short for Exclusive Or.
The output of the XOR gate is HIGH if either, but not both, of the inputs are HIGH.
</p>
<p class="indepth">
Bumping the middle switch causes both inputs to go HIGH, but the output remains LOW.
Bumping the top switch causes only one input to go HIGH, so that th output is HIGH.
</p>
</help>
W.................W
W.WWWWWWWWWWWWW...W
W.s###..W###..W...W
?.W..#..W#.#..W...W
WMW##N#N##.N##W...W
..s#....WN##.N#N#B.
W.W##N#N##.N##W...W
W.W..#..W#.#..W...W
W.s###..W###..W...W
W.WWWWWWWWWWWWW...W
W.................W
</levelmap>

<levelmap> <timestep>100</timestep> <name> 1-8   One XOR the Other?  </name>
<help>
<p class="indepth">
In terms of combinational logic, this circuit functions as a XOR gate.
But in terms of sequential logic, it functions as a pulse generator.
When the middle switch is switched OFF, there is a lag between some of the gates toggling,
which results in a short pulse being generated. 
</p>
</help>
W.................W
W.WWWWWWWWWWWWW...W
W.s###..W.....W...W
?.W..#..W.....W...W
WMW##N#N##+N##W...W
..s#....WN##.N#N#B.
W.W##N#N##+N##W...W
W.W..#..W.....W...W
W.s###..W.....W...W
W.WWWWWWWWWWWWW...W
W.................W
</levelmap>

<levelmap> <name> 1-9   TOADS GALORE </name>
W............WWWWW
W.      .....WHHHW
WMS###    ...WHHHW
W.   N###    WWWWW
W.S###  #     WWWW
W.      N####  WWW
W.S###  #   #  WWW
W.   N###   N#B...
W.s###      # .WWW
W.          # .WWW
W.S########## .WWW
W.            .WWW
W..............WWW
</levelmap>

<levelmap> <timestep> 100 </timestep> <name> 1-10   A LIFE-OR-DEATH DECISION </name>
<help>
<p>REMEMBER, BOWSER IS THE BAD GUY!</p>
</help>
WWWWWWWWWWWWWW
W. ..###..###.
W. ..#.#..#.#.
W.s##+#+#.#.#.
W. ..#.#+##.#.
?. .##..#...#.
WM .#...#.###.
..s#+##.#.#...
W. .#.##+#+##.
W. .#...#.#.#.
W. .#.###.B.#.
W.s##.#.....#.
W. ...#N#n#P#.
WWWWWWWWWWWWWW
</levelmap>

<levelmap> <timestep>100</timestep> <name> 1-11   LOOP THE LOOP </name>
<help>
<h2>BRIDGES</h2>
<p>BRIDGES ALLOW HORIZONTAL AND VERTICAL 
<br>
LAVA FLOWS TO CROSS WITHOUT INTERFERING. </p>
</help>
W...........W
W.s#####   .W
WM     #  WWW
W.   ##+##B..
..?  # #  .WW
..   ###  ..W
W...........W
</levelmap>

<levelmap> <timestep>100</timestep> <name> 1-11   SAVE PEACH AGAIN! </name>
WWWWWWWWWWWWWWWWWWW
WWWWWWWWWWWWWWWWWWW
..s#N#             
WM   N####         
W.s#N#   N##     ..
W.   n#### N##   . 
W.s#N# # N## #   . 
W.   N#+##   N#N#B 
W.s#N# # N## #   . 
W.   N#+## N##   . 
W.s#N# # N##     . 
W.   N#+##       . 
W.s#N# #         . 
W.   N#N#N#P     . 
W.WWWWWWWWWWWWWWW.W
W.................W
WWWWWWWWWWWWWWWWWWW
</levelmap>


<levelmap> <timestep>100</timestep> <name> 1-12   WORLD 1 BOSS FIGHT </name>
<help>
HELP ME, MARIO!<br>
FLIP THE SWITCHES AS MANY TIMES AS YOU NEED TO!
</help>
WWWWWWWWWWWWWWWWWWWWWW
W?Wn##.s#n#W.sN#W..HHW
WM.#.#..WW#W.WWnN#.HHW
...S.WW####W.sN#W#.HHW
WWW#WWS.WWWW.WWWW#.WWW
W###WW#.#n#..W...#.WWW
W#WWWW#.S.##n#.##n#B.W
W#W...#.#....#.SW#W...
W#WSWSWSWWWWWWWWW#WS+W
W##n#n#n########N#WWPW
WWWWWWWWWWWWWWWWWWWWWW
</levelmap>

<levelmap> <timestep>100</timestep> <name></name>
<help>
sadf
</help>
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
                                         
       H H H HHH     H     H    HHH      
       H H H H H     H     H      H      
       H H H H H HHH H   HHH    HHH      
       H H H H H H   H   H H    H        
       HHHHH HHH H   HHH HHH    HHH      
                                         
.M.......................................
                                         
 ### ### ### # # ### ### ### ###  #  #   
 #   #   # # # # #   # #  #   #  # # #   
 ### ### ### # # ### # #  #   #  ### #   
   # #     # # # #   # #  #   #  # # #   
 ### ###   # ### ### # #  #  ### # # ### 
                                         
           #   ### ### ### ###           
           #   # # # #  #  #             
           #   # # ###  #  #             
           #   # #   #  #  #             
           ### ### ### ### ###           
                                         
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
</levelmap>


<levelmap> <timestep> 100 </timestep> <name> 2-1    LET LOOSE THE LAVA </name>
<help>
<p>
BUMP THE BOTTOM TOAD TO ARM THE CANNON.
</p>
<p>
BUMP THE TOP TOAD TO FIRE!
</p>
<p class="indepth">
The previous levels demonstrated 
<a href="https://en.wikipedia.org/wiki/Combinational_logic">combinational logic</a>, 
where the output is a pure function of the present input only.
</p><p class="indepth">
In contrast, in 
<a href="https://en.wikipedia.org/wiki/Sequential_logic">sequential logic</a>, the output 
depends on the present input and also on the sequence of past inputs.
</p><p class="indepth"> 
A key concept leading up to sequential logic is the idea of a latch.
A stateless latch can be implemented with an AND gate. 
If the trigger is LOW, the input signal is held, and does not propagate.
If the trigger is HIGH, then the input signal propagates to become the output.
</p>
</help>
W................W
W?...............W
W.......WWWWWWWW.W
WM.....n#N##...W.W
........W..#...W.W
W.n######N#n####B.
W.......WWWWWWWWWW
</levelmap>

<levelmap> <timestep> 0 </timestep> <name> 2-2    LOOSEN THE LATCHES </name>
<help>
<p class="indepth">
The toad circuit below implements a string of gated D latches.
The output from the P switch is initially held at the first latch. 
The three toads at the top control the triggers to the latches.
Set the triggers to HIGH so that the signal can propagate through the latches.
</p>
</help>
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
W.............................WWW
WM?...........................WWW
W.............................WWW
W...  s        s        s    ...W
W..   N#       N#       N#     B.
W.     ## #+##  ## #+##  ## #+##W
..   N#N+#N# #N#N+#N# #N#N+#N# #W
Ws#L##  #  # #   #  # #   #  # #W
W.   ##N+#n+#L##N+#n+#L##N+#n+#LW
W.     ## H#    ## H#    ## H#  W
W.                              W
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
</levelmap>

<levelmap> <timestep> 0 </timestep> <name> 2-3    TREAD CAREFULLY </name>
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
W...............................W
WMM.............................W
W...  s        s        s     .  
W...  #        #        #     .B.
...   N#       N#       N#     #
W.     ## #+##  ## #+##  ## #+##
W.   N#N+#N# #N#N+#N# #N#N+#N# #
Ws#L##  #  # #   #  # #   #  # #
W. # ##N+#n+#L##N+#n+#L##N+#n+#L
W. #   ## H#    ## H# #  ## H#  
W. #                  N#
W. ##################  N#P
W.                  ##N#
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
</levelmap>

<levelmap> <timestep> 0 </timestep> <name> 2-4    WALKING ON EGGSHELLS </name>
<help>
<p>
STAR 1 + STAR 3 = BURNT PEACH
<p></p>
STAR 2 + STAR 4 = BURNT PEACH ALSO!
</p>
</help>
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
WWWWWWWWWWWWWWWWWWWWWWWWW.......W
WM........................S#WWW.W
W..s       s       s       N##N##
W.?N#      N#      N#     N# #WWW
..  ## #+## ## #+## ## #+##  #WWW
W.#NN+#N# #NN+#N# #NN+#N# # ##WWW
Ws#  #  # #  #  # #  #  # # # WWW
W.L#N+#n+#L#N+#n+#L#N+#n+#L # WWW
W.# ## H# # ## H# # ## H# # # WWW
W.#       #       #       # # WWW
W.#       #  #+###+++###### # WWW
W.#       #  N#   #N#       # WWW
W.#       #   N##   N#P B## # WWW
W.#       ###N# #  N# #   # # WWW
W.#             #  #  # ### # WWW
W.##############+###  # #   # WWW
W.              #+++++# ##### WWW
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
</levelmap>

<levelmap> <timestep> 1 </timestep> <name> 2-5   SHIFT TO SUCCESS </name>
<help>
BOTTOM=LOAD, TOP=SHIFT
<p class="indepth">
Load data into the first cell using the bottom switch.
Hit the top switch to open latches 1, 3, and 5. 
Hit the top switch again to open latches 2 and 4.
This shift register shifts bits one step at a time!
</p>
</help>
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
W..................................W
..WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW.W
W.s##n#####n#####n#####n#####n#..W.W
?.MW..#+....#+....#+....#+....#+.W.W
WWsW##+N#.##+N#.##+N#.##+N#.##+N#W.W
W.#W#.#.#.#.#.#.#.#.#.#.#.#.#.#.#W.W
W.###nnNN##nnNN##nnNN##nnNN##nnNN#B.
W..#...#+#...#+#...#+#...#+#...#+#.W
W..L.....L.....L.....L.....L.....L.W
W..................................W
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
</levelmap>

<levelmap> <timestep>30</timestep> <name> 2-6   TICK TOCK </name>
<preconverge> 0 </preconverge> 
<help>
<p class="indepth">
A clock circuit generates a signal that switches ON and OFF periodically. 
</p>
</help>
W.....................
W.
W ### ### ### ### ###
W # # # # # # # # # #
W # ### ### ### ### #
W #                 #
W # ### ### ### ### #
W # # # # # # # # # #
W?n## ### ### ### ###
..  #
W.sNn############B....
W..WWWWWWWWWWWWWW.WWWW
WM................WWWW
WWWWWWWWWWWWWWWWWWWWWW
</levelmap>

<levelmap> <timestep> 20 </timestep> <name> 2-7   TIME IT RIGHT </name>
<help>
<p class="indepth">
Switching off the P switch triggers a monostable multivibrator, also known as a pulse generator.  
This fires a short pulse (3-5 squares long).
The bottom half of the level consists of a clock circuit driving another pulse generator.
To defeat Bowser, the upper pulse must reach the AND gate at the same time
as the lower pulse!
</p>
</help>
..?............................W
W.M............................W
W S#                          .W
W  #                          .W
W  #                          .W
W  # N##           .......    .W
W  ### #           .........  .W
W    ##N#############L##N#... .W
W                  ......N####B.
W    ##N#############L##N#... .W
W  ### #           .........  .W
W  # N##           .......    .W
W  #                          .W
W N#########################  .W
W L                        #  .W
W ##########################  .W
W..............................W
</levelmap>

<levelmap> <timestep> 20 </timestep> <name> 2-8   TIME IT RIGHT #2 </name>
<help>
<p class="indepth">
Toggling the P switch causes the two inputs to the EQV gate to change from (0,1) to (1,0).
However, one input switches two ticks after the other, so the EQV gate outputs HIGH for two ticks.
Thus we have a pulse generator that triggers 
on both the rising edge and falling edge of the P switch signal.
</p>
</help>
W?...........................W
W.MWWWWWWWWWWWWWWWWWWWWWWWWW.W
..s###N##..       ......    .W
W  #.N#.N##       ........  .W
W  N##N##.##########L##N#.. .W
W                 ......N###B.
W  N##N##.##########L##N#..  W
W  #.N#.N##       ........   W
W  ###N##..       ......     W
W  #                         W
W N## ### ### ### ### ### ###W
W L #+++++++++++++++++++++++#W
W ##+## ### ### ### ### ###  W
W............................W
</levelmap>


<levelmap> <timestep>0</timestep> 
<name> 2-9   WORLD 2 BOSS FIGHT </name>
<help>
HELP ME, MARIO!  THE PASSWORD IS 10101!
<p class="indepth">
You will need to load the correct bit value into the shift register,
trigger the shift, and repeat for all 5 bits.
</p>
</help>
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
W#N#N##                                              W
W# N# N##                                            W
W###N## #                                            W
W  #    #                                            W
W ##    #                                            W
W.#.#####............................................W
W.#W#WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW.W
..sWn#####n#####n#####n#####n#####n#####n#####n##..W.W
?.MW.#+....#+....#+....#+....#+....#+....#+....#+..W.W
WWs##+N#.##+N#.##+N#.##+N#.##+N#.##+N#.##+N#.##+N#.W.W
W..#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.W.W
W.##nnNN##nnNN##nnNN##nnNN##nnNN##nnNN##nnNN##nnNN#W.W
W.#...#+#...#+#...#+#...#+#...#+#...#+#...#+#...#+#W.W
W.L...........L...........L...........L...........LW.W
W.#...........#...........#...........#...#+#######W.W
W.#...........#...........n#..........#n#.n#.........W
W.#...........#............#............#..#.........W
W.##########n#n#...........#############n##n#n#..###B.
W..............#..............................n###.W.W
W..............##############################n#....WPW
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
</levelmap>




<levelmap> <timestep>0</timestep> <sandbox> 1 </sandbox> <name> S-1   SANDBOX: ROLL YOUR OWN! </name>
<help>
USE THE BUTTONS OR THE H, J, K, AND L KEYS TO 
BUILD YOUR OWN TOAD LOGIC CIRCUIT! 
</help>
?.................................
.M................................
..................................
..................................
..................................
..................................
..................................
..................................
..................................
..................................
..................................
..................................
..................................
..................................
..................................
..................................
..................................
..................................
..................................
</levelmap>

<levelmap> <timestep>100</timestep> <name> S-2   ISAAC </name>
WWWWWWWW
W.......
W.WWWWWW
W..  B W
W.S#N+#W
W..  ##W
W.M    W
WWWWWWWW
</levelmap>



<levelmap> <timestep> 100 </timestep> <name> 3-1   AND, OR, NOT </name>
.......................
.                     .
M         ... ... ... .
.s##N###L . . . .  .  .
.         . . ...  .  .
.                     .
.s###     ... ...     .
..  N#N#L . . .       .
.s###     ... .       .
.                     .
.s#N#     ... ... ..  .
..  N###L . . . . . . .
.s#N#     ... . . . . .
.         . . . . ..  .
.                     .
.......................
</levelmap>
<levelmap> <timestep> 100 </timestep> <name> 3-2   NOR, NAND </name>
...........................
M                     .....
.s###     ... ... ...  ....
..  N###L . . . . .     ...
.s###     . . ... .      ..
.                         .
.s#N#     ... ... ... ..  .
..  N#N#L . . . . . . . . .
.s#N#     . . ... . . . . .
.         . . . . . . ..  .
.                        ..
...........................
</levelmap>

<levelmap> <timestep>0</timestep> <name> 3-3   XOR, EQV </name>
........................
M                      .
.s###N##   . . ... ... .
..  N# NN#L .  . . .   .
.s###N##   . . ... .   .
.                      .
.          ... ... . . .
.s###N##   .   . . . . .
..  N# N#L ... ... . . .
.s###N##   .     . . . .
.          ...   .  .  .
.                      .
........................
</levelmap>

<levelmap> <timestep>0</timestep> <name> 3-4   AND3, OR3, XOR3, MAJ3 </name>
.......................
.       .             .
.sN##   .s##N##       .
.   #   .  N# #       .
.sN#N#L .s##N#N#N##   .
.   #   .      N# NN#L.
.sN##   .s####N#N##   .
.......................
.       .s#N###       .
.s#     .   # N##     .
. #     .s#N+## #     .
.sN#N#L .   # N#N#N#L .
. #     .s#N+## #     .
.s#     .   # N##     .
.       .   ###       .
M......................
</levelmap>

<levelmap> <timestep>0</timestep> <name> 3-5   HALF ADDER </name>
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
M                            .
.  ###N#   ... ... .. .. . . .
.  #   N#L .   . . .  .   .  .
.  # #N#   ... ... .  .   .  .
.  # #         . .           .
.s#+##N##    ...             .
.. # N# NN#L .   . . .....   .
.s####N##    ... . . . . .   .
.              . ... . . .   .
.            ...             .
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWW
</levelmap>

<levelmap> <timestep>0</timestep> <name> 3-6   FULL ADDER </name>
.....................
.s######N###      
.  #     # N##  ###L
Ms#+####N+## #  # 
.  # #   # N#N#N# #L
.s#+#+##N+## #    #
.  # # # # N##    #
.  # # # ###      #
.  # # #          #
.  ##+#+##N##     #
.    # # N# #     #  
.    ##+##N#N#N#NN#
.      #     N# #    
.      #####N#N##  
W
</levelmap>

<levelmap> <timestep>0</timestep> <name> 4-1   SR LATCH </name>
<help>
<p class="indepth">
A SR latch has two inputs called S (Set) and R (Reset), and one output (Q).
<br>
If SET is HIGH (S=1 and R=0), OUTPUT goes HIGH (Q=1).
<br>
If RESET is HIGH (S=0 and R=1), OUTPUT goes LOW (Q=0).
</p>
</help>
WWWWWWWW
WM....?W
W.ss...W
W.Nn#..W
..#+#L..
W......W
WWWWWWWW
</levelmap>



<levelmap> <timestep>0</timestep> 
<name> 4-2   D LATCH </name>
<help>
<p class="indepth">
Top P switch is Trigger (T).
<br>
Bottom P switch is Data (D).
<br>
While untriggered (T=0), latch is opaque; output doesn't change.
<br>
While triggered (T=1), latch is transparent: data propagates to output (Q=D).
</p>
</help>
WWW..
.W...s#n##...
.W..M...#+...
...?..##+N#..
..W...#.#.#..
WWW..s#nnNN#L
W.W......#+#..
WWW
</levelmap>

<levelmap> <timestep>0</timestep> 
<name> 4-3   D FLIP FLOP </name>
<help>
<p class="indepth">
This D flip flop is constructed from two D latches in series.<br>
Trigger is top, data is bottom.<br>
On the rising edge of the trigger, star 1 is copied to star 2.<br>
On the falling edge of the trigger, star 2 is copied to star 3.
Thus, one bit of data passes through the flip flop only upon the rising edge.
</p>
</help>
WWWWWWWWWWWWWWWWWWWW
W...................
W.s##n######n##....W
?.M...#+.....#+....W
....##+N#..##+N#...W
W...#.#.#..#.#.#...W
W.sL#nnNN#L#nnNN#L.W
W......#+#....#+#..W
WWWWWWWWWWWWWWWWWWWW
</levelmap>

<levelmap> <timestep>0</timestep> 
<name> 4-4   GLITCHY SHIFT REGISTER </name>
<help>
TOP SWITCH IS TRIGGER.<br>
BOTTOM SWITCH IS DATA.
<p class="indepth">
This circuit consists of five D latches in series, with alternating triggers. <br>
When trigger rises, bits propagate from stars 1->2, 3->4, 5->6. <br>
When trigger falls, bits propagate from stars 2->3, 4->5. <br>
This circuit almost functions as a shift register.
However, while the trigger is high, latch 1 is transparent,
which locks bit 2 to bit 1, and prevents certain bit sequences from being transmitted.
</p>
</help>
WM
W..................................
W.s##n#####n#####n#####n#####n#....
?.M...#+....#+....#+....#+....#+...
..s.##+N#.##+N#.##+N#.##+N#.##+N#..
W.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#..
W.###nnNN##nnNN##nnNN##nnNN##nnNN#.
W..#...#+#...#+#...#+#...#+#...#+#.
W..L.....L.....L.....L.....L.....L.
W
</levelmap>

<levelmap> <timestep>0</timestep> 
<name> 4-5   SHIFT REGISTER </name>
<help>
<p class="indepth">
The top switch triggers a pulse generator,
which supplies length-6 pulses
to a shift register with four D flip flops in series. <br>
On the rising edge of each pulse,
data propagates from one D flip flop to the next.
</p>
</help>
WWWWWWWWW
W#N#N##WW
W# N# N##
W###N##W#
WWW#WWWW#
W###W####
W#WW##............................................
W#W##
WsW#
..Wn#####n#####n#####n#####n#####n#####n#####n####
?MW.#+....#+....#+....#+....#+....#+....#+....#+..
Ws##+N#.##+N#.##+N#.##+N#.##+N#.##+N#.##+N#.##+N#.
..#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.
.##nnNN##nnNN##nnNN##nnNN##nnNN##nnNN##nnNN##nnNN#
.#...#+#...#+#...#+#...#+#...#+#...#+#...#+#...#+#
.L...........L...........L...........L...........L.
.
</levelmap>

<levelmap> <timestep>0</timestep> 
<name> 4-6   CLOCKED SHIFT REGISTER </name>
<help>
<p class="indepth">
The single-toad delay line at the top of this circuit
is a ring oscillator that generates a clock signal,
which drives a pulse generator,
which triggers a shift register.
Hit the switch to toggle the next bit to be transmitted.
</p>
</help>
W
W #################################################
W N+++++++++++++++++++++++++++++++++++++++++++++++#
W  #
W###N##
W# N# N##
W#N#N## #
W       #
W    ####
WWWWW#............................................
....Wn#####n#####n#####n#####n#####n#####n#####n####
?..MW.#+....#+....#+....#+....#+....#+....#+....#+..
WWWs##+N#.##+N#.##+N#.##+N#.##+N#.##+N#.##+N#.##+N#.
....#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.
...##nnNN##nnNN##nnNN##nnNN##nnNN##nnNN##nnNN##nnNN#
...#...#+#...#+#...#+#...#+#...#+#...#+#...#+#...#+#
...L...........L...........L...........L...........L.
.
</levelmap>



<levelmap> <timestep> 0 </timestep> 
<preconverge> 0 </preconverge> 
<name> 4-7   T FLIP FLOP </name>
<help>
<p class="indepth" style="white-space:pre;">
This circuit implements a T flip flop, also known as a frequency divider.
This essentially consists of two D latches and a NOT gate in series.
On falling trigger, latch 1 closes and latch 2 opens, so X:=NOT Y.
On rising trigger, latch 1 opens and latch 2 closes, so Y:=X.
Thus the state (X,Y) cycles through the sequence 00, 10, 11, 01.
The output (Y) toggles on the rising edge of the trigger.
</p>
</help>
.....
.?MS########N#
    #        #       
 ###+########+#######
 #  #        #      # 
 # ## #+##  ## #+## #
 N#n+#N# #N#n+#N# #N#
    #  # L   #  # L 
 N#N+#n+####N+#n+####
 # ## HH    ## HH   #
 #                  #
 ####################
 .
</levelmap>

<levelmap> <name> 4-8   THREE BIT COUNTER </name>
<timestep> 0 </timestep> <preconverge> 0 </preconverge> 
<help>
<p class="indepth">
This binary counter contains three T flip flops in series.
The stars form a three-bit register.
Every time the input trigger goes HIGH, 
the counter is incremented by one, thus cycling through the sequence
000, 001, 010, 011, 100, 101, 110, 111.
</p>
</help>
WWWWWWWWWWWWWWWWWWWWWW
WWWWWWWWWWWWWWWWWWWWWW
WWWWWWWWWWWWWWWWWWWWWW
..MN########N#
  ? #        #       
 ###+########+#######
 #  #        #      #
 # ## #+##  ## #+## #
 N#n+#N# #N#n+#N# #N#
    #  # #   #  # L 
 N#N+#n+####N+#n+####
 # ## HH    ## HH   #
 #                  #
 ####################
   #
   N########N#
    #        #       
 ###+########+#######
 #  #        #      #
 # ## #+##  ## #+## #
 N#n+#N# #N#n+#N# #N#
    #  # #   #  # L 
 N#N+#n+####N+#n+####
 # ## HH    ## HH   #
 #                  #
 ####################
   #
   N########N#
    #        #       
 ###+########+#######
 #  #        #      #
 # ## #+##  ## #+## #
 N#n+#N# #N#n+#N# #N#
    #  # #   #  # L 
 N#N+#n+####N+#n+####
 # ## HH    ## HH   #
 #                  #
 ####################
 .
</levelmap>

<levelmap> <name> 4-9   CLOCKED COUNTER </name>
<timestep> 0 </timestep> <preconverge> 0 </preconverge> 
              ....
 n########N########N#
 # #       #        #       
 # #    ###+########+#######
 # #    #  #        #      #
 # #    # ## #+##  ## #+## #
 # #    N#n+#N# #N#n+#N# #N#
 # #       #  # #   #  # # 
 # #    N#N+#n+####N+#n+#####L
 # #    # ## HH    ## HH   #
 # #    #                  #
 # #    ####################
 # # ..   #
 # # M.   N########N#
 # # ..    #        #       
 # #    ###+########+#######
 # #    #  #        #      #
 # #    # ## #+##  ## #+## #
 # #    N#n+#N# #N#n+#N# #N#
 # #       #  # #   #  # # 
 # #    N#N+#n+####N+#n+#####L
 # #    # ## HH    ## HH   #
 # #    #                  #
 # #    ####################
 # #      #
 # #      N########N#
 # #       #        #       
 # #    ###+########+#######
 # #    #  #        #      #
 # #    # ## #+##  ## #+## #
 # #    N#n+#N# #N#n+#N# #N#
 # #       #  # #   #  # # 
 # #    N#N+#n+####N+#n+#####L 
 # #    # ## HH    ## HH   #
 # #    #                  #
 ###    ####################
.
</levelmap>